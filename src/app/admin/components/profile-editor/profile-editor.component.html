<h1>Profile Editor</h1>
<div class='cms-profile-container' *ngIf="profile != null">
  <div class="profile-editor">
    <div class='editor-control'>
      <div class="about-editor" *ngFor="let key of profile.about | mapObject">
        <label>{{key}}:</label>
        <input placeholder="{{profile.about[key]}}" type='text' [disabled]="toggleEdit[key] == false">
        <!-- toggle button -->
        <button *ngIf="toggleEdit[key] == false" (click)="toggleEdit[key] = true">Edit</button>
        <button *ngIf="toggleEdit[key] == true" (click)="saveAboutData($event, key); toggleEdit[key] = false">Save</button>
      </div>
      <div class='description-editor'>
        <label>Description: </label>
        <textarea placeholder="{{profile.description}}" [disabled]="toggleEdit['description'] == false"></textarea>
        <button *ngIf="toggleEdit['description'] == false" (click)="toggleEdit['description'] = true">Edit</button>
        <button *ngIf="toggleEdit['description'] == true" (click)="saveDescription($event); toggleEdit['description'] = false">Save</button>
      </div>
    </div>
    <div class='editor-control'>
      <div class='values-editor'>
        <label>Values</label>
        <ul>
          <li *ngFor="let value of profile.values; let i = index">
            {{value}}
            <button (click)="removeValue(i)">Remove</button>
          </li>
        </ul>
        <hr>
        <div class='newValue'>
          <label>New Value: </label>
          <input  type='text'>
          <button (click)="addValue($event)">Add</button>
        </div>
      </div>
    </div>
    <div class='editor-control'>
      <div class="goals-editor">
        <label>Goals</label>
        <div class='goals-repeat' *ngFor="let key of profile.goals | mapObject">
          <h4>{{key}}</h4>
          <ul>
            <li *ngFor="let goal of profile.goals[key]; let i = index">
              {{goal}}
              <button (click)="removeGoal(key, i)">remove</button>
            </li>
          </ul>
        </div>
        <hr>
        <label>New Goal: </label>
        <input id="goalInput" type="text">
        <div class='buttonSelect'>
          <button (click)="addGoal('primary')">Add to Primary</button>
          <button (click)="addGoal('shortTerm')">Add to Short Term</button>
          <button (click)="addGoal('longTerm')">Add to Long Term</button>
        </div>
      </div>
    </div>
    <div class="editor-control">
      <div class='strengths-editor'>
        <label>Strengths</label>
        <ul>
          <li *ngFor="let strength of profile.strengths; let i = index">
            {{strength}}
            <button (click)="removeStrength(i)">remove</button>
          </li>
        </ul>
        <div class='newStrength'>
          <label>New Strength: </label>
          <input type='text'>
          <button (click)="addStrength($event)">Add</button>
        </div>
      </div>
    </div>
    <div class="editor-control">
      <div class="weaknesses-editor">
        <label>Weaknesses</label>
        <ul>
          <li *ngFor="let weakness of profile.weaknesses; let i = index">
            {{weakness}}
            <button (click)="removeWeakness(i)">remove</button>
          </li>
        </ul>
        <div class="newWeakness">
          <label>New Weakness: </label>
          <input type='text'>
          <button (click)="addWeakness($event)">Add</button>
        </div>
      </div>
    </div>
    <div class='editor-control'>
      <div class='interest-editor'>
        <label>Interests</label>
        <div class="interest-control" *ngFor="let key of profile.interests | mapObject; let k = index">
          <label>{{key}}</label>
          <img [src]="profile.interests[key].imgpath">
          <ul>
            <li *ngFor="let interest of profile.interests[key].list; let i = index">
              {{interest}}
              <button (click)="removeInterest(key, i)">remove</button>
            </li>
          </ul>
          <label>New Interest</label>
          <input type='text'>
          <button (click)="addInterest($event, key)">Add Interest</button>
          <!-- <input type="file" name="single" ng2FileSelect [uploader]="uploader" /> -->
          <!-- <button (click)="uploader.uploadAll(); uploader.queue[0].formData = [{filename: $event.target.previousElementSibling.value.substring(12), key: interestName}]" [disabled]="!uploader.getNotUploadedItems().length">Change Img</button> -->
        </div>
        <hr>
      </div>
    </div>
  </div>
</div>
